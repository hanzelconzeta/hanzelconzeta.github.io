<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HANZEL | poema complejo acerca del alma</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600&family=Roboto+Slab:wght@300;400&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <style>
    :root {
      --ultravioleta-cosmico: #0B0014;
      --bugambilia-neon: #C13BFF;
      --rosa-electrico: #FF2E98;
      --naranja-volcanico: #FF4F00;
      --verde-acido: #00FF99;
      --turquesa-cenote: #00F0FF;
      --dorado-luznegra: #FFD700;
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    body { background:var(--ultravioleta-cosmico); color:var(--dorado-luznegra); font-family:'Roboto Slab',serif; height:100vh; overflow:hidden; position:relative; cursor:none; }

    /* === CURSOR Y EFECTOS GLOBALES (sin cambios) === */
    .cursor { position:fixed; width:15px; height:15px; border-radius:50%; pointer-events:none; transform:translate(-50%,-50%); mix-blend-mode:screen; z-index:9999; transition:transform .1s,width .3s,height .3s,box-shadow .3s; animation:colorShift 3s infinite alternate; box-shadow:0 0 15px rgba(193,59,255,0.5),inset 0 0 10px var(--rosa-electrico); }
    @keyframes colorShift { 0%{background:var(--bugambilia-neon)} 20%{background:var(--rosa-electrico)} 40%{background:var(--naranja-volcanico)} 60%{background:var(--verde-acido)} 80%{background:var(--turquesa-cenote)} 100%{background:var(--dorado-luznegra)} }
    .cursor.hover { width:20px;height:20px;box-shadow:0 0 25px rgba(255,46,152,0.7); }
    .cursor.click { animation:launch-stick .5s ease-out; }
    @keyframes launch-stick { 0%{transform:translate(-50%,-50%)scale(1)} 50%{transform:translate(-50%,-50%)scale(1.2)rotate(10deg)} 100%{transform:translate(-50%,-50%)scale(1)rotate(0)} }

    /* === MENÚ VERTICAL (nuevo) === */
    .vertical-menu {
      position: absolute;
      left: 5vw;
      top: 55%;
      transform: translateY(-50%);
      list-style: none;
      display: flex;
      flex-direction: column;
      gap: 2.5rem;
      z-index: 20;
    }
    .vertical-menu li {
      font-family: 'Cinzel', serif;
      font-size: 2rem;
      color: var(--dorado-luznegra);
      text-transform: uppercase;
      letter-spacing: 6px;
      cursor: pointer;
      opacity: 0.75;
      transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
    }
    .vertical-menu li:hover {
      color: var(--bugambilia-neon);
      text-shadow: 0 0 40px var(--bugambilia-neon);
      transform: translateX(15px) scale(1.08);
    }
    .vertical-menu li:active {
      transform: scale(0.92);
      color: var(--rosa-electrico);
    }

    /* === GUESTBOOK (MODIFICADO) === */
    .guestbook {
      position: fixed;
      top: 50%;
      right: 4vw;
      width: 420px;
      max-height: 85vh;
      overflow-y: auto;
      background: rgba(11, 0, 20, 0.95);
      border: 2px solid var(--bugambilia-neon);
      border-radius: 20px;
      padding: 2.5rem 2rem 2rem;
      box-shadow: 0 0 60px var(--rosa-electrico), inset 0 0 30px rgba(193,59,255,0.2);
      z-index: 10000;
      color: var(--verde-acido);
      font-family: 'Roboto Slab', serif;
      opacity: 0;
      visibility: hidden;
      transform: translateY(-50%) translateX(80px);
      transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* bouncy pop-in */
    }
    .guestbook.active {
      opacity: 1;
      visibility: visible;
      transform: translateY(-50%) translateX(0);
    }

    .guestbook h2 {
      font-family: 'Cinzel', serif;
      background: linear-gradient(90deg, var(--bugambilia-neon), var(--rosa-electrico));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 30px rgba(255,215,0,0.6);
      margin-bottom: 1.5rem;
      text-align: center;
      font-size: 2.2rem;
    }

    .guestbook form { display:flex; flex-direction:column; gap:1.2rem; margin-bottom:2rem; }
    .guestbook input, .guestbook textarea {
      background: rgba(255,255,255,0.08);
      border: 1px solid var(--turquesa-cenote);
      color: var(--dorado-luznegra);
      padding: 0.9rem;
      border-radius: 8px;
      font-size: 1.1rem;
      transition: all 0.3s;
    }
    .guestbook input:focus, .guestbook textarea:focus {
      outline: none;
      border-color: var(--bugambilia-neon);
      box-shadow: 0 0 25px var(--bugambilia-neon);
      background: rgba(255,255,255,0.15);
    }

    .guestbook button {
      background: var(--bugambilia-neon);
      border: none;
      color: var(--ultravioleta-cosmico);
      padding: 0.9rem;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
    }
    .guestbook button:hover {
      transform: scale(1.08);
      box-shadow: 0 0 30px var(--bugambilia-neon);
    }
    .guestbook button:active {
      transform: scale(0.92);
    }

    .guestbook .comments { display:flex; flex-direction:column; gap:1.2rem; margin-top:1rem; }
    .guestbook .comment {
      background: rgba(0,255,153,0.08);
      border: 1px solid var(--verde-acido);
      padding: 1.2rem;
      border-radius: 12px;
      box-shadow: 0 0 15px rgba(0,255,153,0.3);
    }

    .guestbook .close-btn {
      position: absolute;
      top: 1.2rem;
      right: 1.5rem;
      background: transparent;
      border: none;
      color: var(--rosa-electrico);
      font-size: 2rem;
      cursor: pointer;
      transition: all 0.3s;
    }
    .guestbook .close-btn:hover {
      color: var(--naranja-volcanico);
      transform: rotate(90deg) scale(1.2);
    }

    /* resto de estilos (lava, cursor, music, social, etc.) permanecen iguales */
    /* ... (todo el resto del CSS que ya tenías) ... */
  </style>
</head>
<body>
  <!-- ... todo el body igual hasta el guestbook ... -->

  <!-- Guestbook -->
  <div class="guestbook" id="guestbook">
    <button class="close-btn" id="close-guestbook">×</button>
    <h2>Guestbook</h2>
    <form id="guestbook-form">
      <input type="text" id="name" placeholder="Tu nombre" maxlength="50" required>
      <textarea id="message" placeholder="Deja tu mensaje..." maxlength="500" required></textarea>
      <button type="submit">Firmar el libro</button>
    </form>
    <div class="comments" id="comments-list"></div>
  </div>

  <!-- Scripts -->
  <script>
    /* ... cursor, logo, música igual ... */

    /* === GUESTBOOK JS (modificado) === */
    const guestbook = document.getElementById('guestbook');

    document.getElementById('guestbook-link').addEventListener('click', () => {
      guestbook.classList.add('active');
      loadComments();
    });

    document.getElementById('close-guestbook').addEventListener('click', () => {
      guestbook.classList.remove('active');
    });

    /* Clic fuera para cerrar (opcional pero queda muy bien) */
    document.addEventListener('click', e => {
      if (guestbook.classList.contains('active') && 
          !guestbook.contains(e.target) && 
          e.target.id !== 'guestbook-link') {
        guestbook.classList.remove('active');
      }
    });

    /* El resto del script de Firebase queda igual */
    /* ... */
  </script>
</body>
</html>
